<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">

    <style type="text/css">
        .cinza {
            font-family: Calibri, Arial;
            background-color: #CCC;
            min-height: 500px;
        }
        
        .centro {
            text-align: center;
        }
        
        .esquerda {
            text-align: left;
        }
        
        .direita {
            text-align: right;
        }
    </style>

    <title> </title>
</head>

<body>

    <div class="container cinza">

        <div class="row">
            <div class="col-md-12">
                <p style="font-weight: bolder; text-align: center;">
                    Simulador de Financiamento de Veículo
                </p>
            </div>
        </div>

        <div class="row">
            <div class="col-md-3"></div>
            <div class="col-md-2">Marca*:</div>
            <div class="col-md-4">
                <input type="text" class="form-control" id="txtMarca" />
            </div>
            <div class="col-md-3"></div>

        </div>

        <div class="row">
            <div class="col-md-3"></div>
            <div class="col-md-2">Modelo/Versão*:</div>
            <div class="col-md-4">

                <input type="text" class="form-control" id="txtModelo" />

            </div>
            <div class="col-md-3"></div>
        </div>
        <div class="row">
            <div class="col-md-3"></div>
            <div class="col-md-2">Ano Modelo*:</div>
            <div class="col-md-4">
                <select id="sltModelo" class="form-control">
                    <option value="2015">2015</option>
                    <option value="2016">2016</option>
                    <option value="2017">2017</option>
                    <option value="2018">2018</option>
                    <option value="2019">2019</option>
                    <option value="2020">2020</option>
                </select>

            </div>
            <div class="col-md-3"></div>
        </div>
        <div class="row">
            <div class="col-md-3"></div>
            <div class="col-md-2">Ano Fabricação*:</div>
            <div class="col-md-4">

                <select id="sltFab" class="form-control">
                    <option value="2015">2015</option>
                    <option value="2016">2016</option>
                    <option value="2017">2017</option>
                    <option value="2018">2018</option>
                    <option value="2019">2019</option>
                    <option value="2020">2020</option>
                </select>

            </div>
            <div class="col-md-3"></div>
        </div>
        <div class="row">
            <div class="col-md-3"></div>
            <div class="col-md-2">Combustível*:</div>
            <div class="col-md-4">
                <select id="sltCombust" class="form-control">
                    <option value="A">Alcool</option>
                    <option value="G">Gasolina</option>
                    <option value="F">Flex</option>
                </select>

            </div>
            <div class="col-md-3"></div>
        </div>
        <div class="row">
            <div class="col-md-3"></div>
            <div class="col-md-2">Valor do Veículo*:</div>
            <div class="col-md-4">

                <input onBlur="Calcular10Porcento();" type="text" class="form-control" id="txtValor" />

            </div>
            <div class="col-md-3"></div>
        </div>
        <div class="row">
            <div class="col-md-3"></div>
            <div class="col-md-2">Valor de Entrada*:</div>
            <div class="col-md-4">

                <input type="text" class="form-control" id="txtEntrada" />

            </div>
            <div class="col-md-3"></div>
        </div>
        <div class="row">
            <div class="col-md-3"></div>
            <div class="col-md-2">Numero de Parcelas*:</div>
            <div class="col-md-4">

                <select id="sltPar" class="form-control">
                    <option value="0">A Vista</option>
                </select>

            </div>
            <div class="col-md-3"></div>
        </div>
        <div class="row">
            <div class="col-md-3"></div>
            <div class="col-md-2">Estado*:</div>
            <div class="col-md-4">

                <select id="sltUF" class="form-control">
                    <option value="ES">Espírito Santo</option>
                    <option value="MG">Minas Gerais</option>
                    <option value="RJ">Rio de Janeiro</optio <option value="SP">São Paulo</option>
                </select>

            </div>
            <div class="col-md-3"></div>
        </div>

        <br/>
        <br/>

        <div class="row">
            <div class="col-md-4"></div>
            <div class="col-md-1"></div>
            <div class="col-md-2">

                <button style="font-weight: bolder;" ,
						class="btn btn-danger"
						onclick="CalcularParcelas();"
						>
                    Calcular Parcelas
                </button>

            </div>
            <div class="col-md-1"></div>
            <div class="col-md-4"></div>
        </div>

    </div>

    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>

    <script type="text/javascript">
		
        function CarregarOptionParcela() {
            var option = '';
            for (var i = 2; i <= 32; i++) {

                option = '<option value="';
                option += i;
                option += '">';
                option += i;
                option += 'X </option>';

                $('#sltPar').append(option);
            }
        }

        function Calcular10Porcento() {
            var valordoveiculo = $("#txtValor").val();

            var valorentrada = parseFloat(valordoveiculo) * 0.1;
            $("#txtEntrada").val(valorentrada);

        }

        function CalcularParcelas() {

			var totalgeral = 0;
			var totalveiculo = $("#txtValor").val();
            var minEntrada = parseFloat(totalveiculo) * 0.1;
			var valorEntrada = parseFloat($("#txtEntrada").val());
			
			if(minEntrada > valorEntrada){
				window.alert("O valor de Entrada deve ser maior que 10% do valor do veículo!");
				
				return 0;
			}

			var valorTotalParc = totalveiculo - valorEntrada;
			
            var sltPar = document.getElementById('sltPar');
            var qtdePar = parseFloat(sltPar.options[sltPar.selectedIndex].value);
			var valorparcela = 0;
			
			if(qtdePar <= 12){
				valorparcela = valorTotalParc / qtdePar;
				valorparcela = valorparcela + (valorparcela * 0.0134); 
				 
			}
			else if(qtdePar <= 24){
				valorparcela = valorTotalParc / qtdePar;
				valorparcela = valorparcela + (valorparcela * 0.0189);
				
			}
			else if(qtdePar <= 32){
				valorparcela = valorTotalParc / qtdePar;
				valorparcela = valorparcela + (valorparcela * 0.0204);
				
			}
			else{
				window.alert("Parcelamento Inválido!");
				return 0;
			}
			
			totalgeral = (valorparcela * qtdePar) + valorEntrada;
			
			window.alert("Total a Pagar com Juros:" + totalgeral.toFixed(2));
			

        }

        CarregarOptionParcela();
		
		
    </script>

</body>

</html>